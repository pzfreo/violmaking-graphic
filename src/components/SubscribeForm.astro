---
// Mailerlite form configuration
const MAILERLITE_ACCOUNT = '1927939';
const MAILERLITE_FORM = '171520408483267741';
const formAction = `https://assets.mailerlite.com/jsonp/${MAILERLITE_ACCOUNT}/forms/${MAILERLITE_FORM}/subscribe`;
---

<div class="max-w-md mx-auto">
  <div class="bg-bg-alt rounded-lg p-8">
    <h2 class="text-xl font-semibold text-text mb-2">Email List</h2>
    <p class="text-text-light mb-6">
      Sign up to get notified of upcoming meetings. Unsubscribe anytime.
    </p>

    <form
      action={formAction}
      method="post"
      target="_blank"
      class="space-y-4"
      id="subscribe-form"
    >
      <div>
        <label for="email" class="sr-only">Email address</label>
        <input
          type="email"
          name="fields[email]"
          id="email"
          required
          placeholder="Your email address"
          autocomplete="email"
          class="w-full px-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-colors"
        />
      </div>

      <input type="hidden" name="ml-submit" value="1" />
      <input type="hidden" name="anticsrf" value="true" />

      <button
        type="submit"
        class="w-full bg-text hover:bg-text-light text-white font-semibold py-3 px-6 rounded-lg transition-colors"
      >
        Subscribe
      </button>
    </form>

    <p class="mt-4 text-xs text-text-light text-center">
      We respect your privacy. No spam, ever.
    </p>
  </div>
</div>

<script src="https://groot.mailerlite.com/js/w/webforms.min.js?v176e10baa5e7ed80d35ae235be3d5024"></script>
